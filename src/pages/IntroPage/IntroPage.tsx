import { useEffect, useState } from "react";

export const IntroPage = () => {

  const [pageHeight, setPageHeight] = useState(window.innerHeight - 30)
  const [botFrame, setBotFrame] = useState(window.innerWidth > 500 ? 300 : 250)
  const [btnVisible, setBtnVisible] = useState(false)

  useEffect(() => {
    const handleResize = () => {
      setPageHeight(window.innerHeight - 30)
      setBotFrame(window.innerWidth > 500 ? 300 : 250)
    }
    window.addEventListener("resize", handleResize);
    handleResize();
    return () => window.removeEventListener("resize", handleResize);
  }, [])

  return (
    <div className="first-page" style={{height: pageHeight}}>
      <HorizontalFrame
        onClick={() => setBtnVisible(true)}
        className={`top-frame ${btnVisible && 'fade-out'}`}
        style={{width: botFrame}} type="bottom"
      />
      <div className="big-logo"></div>
      <img className="title" src="postitle.svg" alt="title" />
      <div className="buttons">
        {btnVisible && <>
          <button className="btn-pink fade-in">시놉시스</button>
          <button className="btn-pink fade-in">CAST</button>
          <button className="btn-pink fade-in">넘버 목록</button>
          <button className="btn-pink fade-in">후원</button>
        </>}
      </div>
    </div>
  );
}

export interface HorizontalFrameProps {
  className?: string,
  style?: React.CSSProperties,
  type?: 'top' | 'bottom' | 'both',
  onClick?: () => void,
}

export const HorizontalFrame = (props: HorizontalFrameProps) => {
  const {className, style, type = 'both', onClick} = props
  const BottomFrame = () => {
    return (<>
      <path d="m454.16,947.76c1.11-.02,1.93.15,2.67.5,1.28.6,2.62.7,4,.7,21.91-.01,43.83,0,65.74,0,1.24,0,2.44-.04,3.62-.54.86-.37,1.76-.32,2.45.45.3.34.35.77.09,1.14-.62.89-1.56.85-2.42.61-1.42-.39-2.84-.36-4.28-.36-21.78,0-43.55,0-65.33,0-1.58,0-3.13.05-4.62.71-.87.39-1.83.56-2.81.23-1.07-.35-1.73-1.06-1.61-1.85.16-.97.91-1.31,1.74-1.49.33-.07.68-.07.75-.08Z"/>
      <path d="m146.48,948.21c.14.01.29,0,.41.04,2.84,1.18,5.82.67,8.73.67,20.2.04,40.4.02,60.6.03,1.66,0,3.26-.06,4.81-.78,1.07-.5,2.25-.6,3.42-.27.77.22,1.38.68,1.45,1.54.07.9-.56,1.33-1.29,1.65-1.09.47-2.19.26-3.2-.17-1.37-.58-2.77-.68-4.22-.68-21.98.01-43.96,0-65.94,0-1.3,0-2.6-.05-3.87.36-.32.1-.68.11-1.02.1-.8-.03-1.53-.23-1.63-1.2-.08-.78.68-1.31,1.74-1.3Z"/>
      <path d="m348.37,951.8c-.84.19-1.53-.06-1.88-.83-.39-.85.2-1.43.75-1.95,1.89-1.79,5.03-1.42,6.22.71.73,1.31.55,2.45-.57,3.52-.83.8-1.87,1.12-2.95,1.34-2.7.54-5.31.29-7.83-.86-.57-.26-1.07-.61-1.51-1.05-1.16-1.17-1.24-2.34-.25-3.67.63-.84,1.52-1.38,2.4-1.91,1.41-.86,2.96-1.43,4.48-2.03,2.41-.96,4.85-1.81,7.06-3.27,1.54-1.02,3.41-1.41,5.22-1.81,6.53-1.42,13.02-.86,19.24,1.24,12.54,4.25,25.41,7.23,38.14,10.79,3.02.85,6.13,1.45,9.31,1.49,1.45.02,2.87-.2,4.28-.46,1.89-.34,2.82-1.2,2.79-2.48-.03-1.51-1.48-3.25-3-3.49-1.3-.21-2.6-.09-3.85.37-.45.17-.94.35-1.04.89-.12.65.31,1,.8,1.29.29.17.68.16.86.5-1.52.82-3.41.21-4-1.27-.25-.63-.15-1.21.23-1.75.37-.52.88-.87,1.49-1.03,3.56-.95,6.85-.2,9.62,2.1,2.19,1.81,1.58,4.2-1.06,5.27-7.15,2.91-14.6,4.2-22.29,3.76-7.75-.44-15.3-1.89-22.77-4.1-8.79-2.6-17.7-4.87-26.82-6.03-4.77-.61-9.55-.75-14.29.38-1.62.39-3.19.82-4.44,1.99-1.51,1.4-1.24,3.3.72,3.81,2.26.59,4.62.64,6.8-.53.35-.19.68-.47.92-.79.43-.55.38-1.15-.01-1.71-.44-.63-1.07-.83-1.8-.69-.63.12-1.15.43-1.43,1.05-.24.54.73.63.45,1.21Zm3.18-6.43c5.52-.42,10.95-.03,16.35.97,5.94,1.1,11.66,2.96,17.36,4.94,2.33.81,4.71,1.41,7.13,1.9,6.11,1.24,12.3,1.89,18.5,2.32,2.37.17,4.77.03,7.16.03-2.36-.33-4.71-.58-7.05-.99-6.63-1.15-13.05-3.08-19.39-5.26-3.38-1.16-6.82-2-10.33-2.62-2.09-.37-4.18-.7-6.26-1.1-5.93-1.14-11.9-1.76-17.95-1.45-1.91.1-3.78.39-5.51,1.27Zm6.3-2.98c.47,0,.95.02,1.42,0,5.16-.21,10.22.47,15.28,1.51,6.04,1.25,11.92,3.11,17.93,4.47,4.94,1.12,9.83,2.45,14.75,3.64,1.84.44,3.69.89,5.71,1.06-.37-.52-.82-.5-1.19-.59-6.24-1.6-12.36-3.57-18.47-5.61-8.25-2.76-16.56-5.28-25.33-5.81-3.45-.21-6.79.22-10.1,1.33Z"/>
      <path d="m328.94,951.86c.66-.76,1.13-1.28.28-1.89-.81-.57-1.82-.63-2.47-.05-.63.58-.78,1.28-.32,2.03.42.68,1.09,1.03,1.82,1.25,1.81.53,3.66.48,5.5.22,1.02-.14,1.74-.82,2.02-1.83.31-1.13-.43-1.79-1.22-2.38-2.07-1.52-4.52-1.83-6.97-2.22-5.93-.93-11.76-.03-17.54,1.06-7.94,1.5-15.76,3.54-23.51,5.85-5.59,1.66-11.33,2.55-17.15,3.07-5.72.51-11.34.21-16.95-.91-2.97-.59-5.76-1.77-8.58-2.81-2.56-.94-2.73-3.91-.29-5.51,2.45-1.62,5.23-2.37,8.21-1.92.59.09,1.2.33,1.72.64,1.55.9,1.63,2.47.16,3.45-.91.61-1.92,1.03-3.05.5.04-.21.02-.4.09-.44.69-.39,1.73-.55,1.51-1.64-.18-.89-1.13-.86-1.83-1.07-.8-.23-1.62-.27-2.44-.26-1.36.03-2.34.72-3.05,1.8-1.22,1.84-.6,3.57,1.53,4.08,2.54.61,5.13.8,7.75.42,5.31-.76,10.41-2.37,15.57-3.73,4.24-1.11,8.44-2.37,12.7-3.42,4.4-1.08,8.73-2.35,12.98-3.9,4.8-1.75,9.75-2.89,14.84-3,5.16-.12,10.26.54,14.74,3.52,1.32.88,2.86,1.3,4.32,1.88,2.16.86,4.37,1.62,6.33,2.92,1.17.77,2.32,1.65,2.24,3.21-.09,1.66-1.41,2.42-2.74,3.04-2.38,1.12-4.9,1.19-7.44.79-.6-.09-1.2-.32-1.75-.58-1.86-.87-2.64-2.24-2.14-3.69.57-1.67,2.51-2.8,4.27-2.46.82.16,1.57.51,2.2,1.06.58.51,1.12,1.1.84,1.94-.29.86-1.03.98-2.18.93Zm-69.55,3.47c.71.35,1.26.24,1.78.24,2.74.02,5.47-.13,8.2-.31,5.21-.34,10.34-1.11,15.47-1.99,4.69-.81,9.08-2.59,13.59-4.01,8.01-2.53,16.15-4.28,24.62-3.97,1.01.04,2.02.07,3.04.13-1.81-.79-3.64-1.26-5.58-1.31-4.8-.13-9.59-.03-14.33.86-7.12,1.35-14.32,2.25-21.25,4.64-8.22,2.84-16.56,5.31-25.55,5.72Zm5.45-2.25c.46-.06.93-.1,1.38-.2,9.25-1.94,18.38-4.34,27.51-6.73,8.22-2.15,16.45-4.22,25.07-3.76.22.01.54.12.68-.34-2.76-.91-5.64-1.14-8.47-1.07-4.31.11-8.57.77-12.77,1.84-5.24,1.34-10.45,2.76-15.55,4.58-5.86,2.09-11.82,3.86-17.86,5.68Z"/>
    </>)
  } 
  const TopFrame = () => {
    return (<>
      <path d="m454.16,947.76c1.11-.02,1.93.15,2.67.5,1.28.6,2.62.7,4,.7,21.91-.01,43.83,0,65.74,0,1.24,0,2.44-.04,3.62-.54.86-.37,1.76-.32,2.45.45.3.34.35.77.09,1.14-.62.89-1.56.85-2.42.61-1.42-.39-2.84-.36-4.28-.36-21.78,0-43.55,0-65.33,0-1.58,0-3.13.05-4.62.71-.87.39-1.83.56-2.81.23-1.07-.35-1.73-1.06-1.61-1.85.16-.97.91-1.31,1.74-1.49.33-.07.68-.07.75-.08Z"></path>       <path d="m146.48,948.21c.14.01.29,0,.41.04,2.84,1.18,5.82.67,8.73.67,20.2.04,40.4.02,60.6.03,1.66,0,3.26-.06,4.81-.78,1.07-.5,2.25-.6,3.42-.27.77.22,1.38.68,1.45,1.54.07.9-.56,1.33-1.29,1.65-1.09.47-2.19.26-3.2-.17-1.37-.58-2.77-.68-4.22-.68-21.98.01-43.96,0-65.94,0-1.3,0-2.6-.05-3.87.36-.32.1-.68.11-1.02.1-.8-.03-1.53-.23-1.63-1.2-.08-.78.68-1.31,1.74-1.3Z"></path>       <path d="m348.37,951.8c-.84.19-1.53-.06-1.88-.83-.39-.85.2-1.43.75-1.95,1.89-1.79,5.03-1.42,6.22.71.73,1.31.55,2.45-.57,3.52-.83.8-1.87,1.12-2.95,1.34-2.7.54-5.31.29-7.83-.86-.57-.26-1.07-.61-1.51-1.05-1.16-1.17-1.24-2.34-.25-3.67.63-.84,1.52-1.38,2.4-1.91,1.41-.86,2.96-1.43,4.48-2.03,2.41-.96,4.85-1.81,7.06-3.27,1.54-1.02,3.41-1.41,5.22-1.81,6.53-1.42,13.02-.86,19.24,1.24,12.54,4.25,25.41,7.23,38.14,10.79,3.02.85,6.13,1.45,9.31,1.49,1.45.02,2.87-.2,4.28-.46,1.89-.34,2.82-1.2,2.79-2.48-.03-1.51-1.48-3.25-3-3.49-1.3-.21-2.6-.09-3.85.37-.45.17-.94.35-1.04.89-.12.65.31,1,.8,1.29.29.17.68.16.86.5-1.52.82-3.41.21-4-1.27-.25-.63-.15-1.21.23-1.75.37-.52.88-.87,1.49-1.03,3.56-.95,6.85-.2,9.62,2.1,2.19,1.81,1.58,4.2-1.06,5.27-7.15,2.91-14.6,4.2-22.29,3.76-7.75-.44-15.3-1.89-22.77-4.1-8.79-2.6-17.7-4.87-26.82-6.03-4.77-.61-9.55-.75-14.29.38-1.62.39-3.19.82-4.44,1.99-1.51,1.4-1.24,3.3.72,3.81,2.26.59,4.62.64,6.8-.53.35-.19.68-.47.92-.79.43-.55.38-1.15-.01-1.71-.44-.63-1.07-.83-1.8-.69-.63.12-1.15.43-1.43,1.05-.24.54.73.63.45,1.21Zm3.18-6.43c5.52-.42,10.95-.03,16.35.97,5.94,1.1,11.66,2.96,17.36,4.94,2.33.81,4.71,1.41,7.13,1.9,6.11,1.24,12.3,1.89,18.5,2.32,2.37.17,4.77.03,7.16.03-2.36-.33-4.71-.58-7.05-.99-6.63-1.15-13.05-3.08-19.39-5.26-3.38-1.16-6.82-2-10.33-2.62-2.09-.37-4.18-.7-6.26-1.1-5.93-1.14-11.9-1.76-17.95-1.45-1.91.1-3.78.39-5.51,1.27Zm6.3-2.98c.47,0,.95.02,1.42,0,5.16-.21,10.22.47,15.28,1.51,6.04,1.25,11.92,3.11,17.93,4.47,4.94,1.12,9.83,2.45,14.75,3.64,1.84.44,3.69.89,5.71,1.06-.37-.52-.82-.5-1.19-.59-6.24-1.6-12.36-3.57-18.47-5.61-8.25-2.76-16.56-5.28-25.33-5.81-3.45-.21-6.79.22-10.1,1.33Z"></path>       <path d="m328.94,951.86c.66-.76,1.13-1.28.28-1.89-.81-.57-1.82-.63-2.47-.05-.63.58-.78,1.28-.32,2.03.42.68,1.09,1.03,1.82,1.25,1.81.53,3.66.48,5.5.22,1.02-.14,1.74-.82,2.02-1.83.31-1.13-.43-1.79-1.22-2.38-2.07-1.52-4.52-1.83-6.97-2.22-5.93-.93-11.76-.03-17.54,1.06-7.94,1.5-15.76,3.54-23.51,5.85-5.59,1.66-11.33,2.55-17.15,3.07-5.72.51-11.34.21-16.95-.91-2.97-.59-5.76-1.77-8.58-2.81-2.56-.94-2.73-3.91-.29-5.51,2.45-1.62,5.23-2.37,8.21-1.92.59.09,1.2.33,1.72.64,1.55.9,1.63,2.47.16,3.45-.91.61-1.92,1.03-3.05.5.04-.21.02-.4.09-.44.69-.39,1.73-.55,1.51-1.64-.18-.89-1.13-.86-1.83-1.07-.8-.23-1.62-.27-2.44-.26-1.36.03-2.34.72-3.05,1.8-1.22,1.84-.6,3.57,1.53,4.08,2.54.61,5.13.8,7.75.42,5.31-.76,10.41-2.37,15.57-3.73,4.24-1.11,8.44-2.37,12.7-3.42,4.4-1.08,8.73-2.35,12.98-3.9,4.8-1.75,9.75-2.89,14.84-3,5.16-.12,10.26.54,14.74,3.52,1.32.88,2.86,1.3,4.32,1.88,2.16.86,4.37,1.62,6.33,2.92,1.17.77,2.32,1.65,2.24,3.21-.09,1.66-1.41,2.42-2.74,3.04-2.38,1.12-4.9,1.19-7.44.79-.6-.09-1.2-.32-1.75-.58-1.86-.87-2.64-2.24-2.14-3.69.57-1.67,2.51-2.8,4.27-2.46.82.16,1.57.51,2.2,1.06.58.51,1.12,1.1.84,1.94-.29.86-1.03.98-2.18.93Zm-69.55,3.47c.71.35,1.26.24,1.78.24,2.74.02,5.47-.13,8.2-.31,5.21-.34,10.34-1.11,15.47-1.99,4.69-.81,9.08-2.59,13.59-4.01,8.01-2.53,16.15-4.28,24.62-3.97,1.01.04,2.02.07,3.04.13-1.81-.79-3.64-1.26-5.58-1.31-4.8-.13-9.59-.03-14.33.86-7.12,1.35-14.32,2.25-21.25,4.64-8.22,2.84-16.56,5.31-25.55,5.72Zm5.45-2.25c.46-.06.93-.1,1.38-.2,9.25-1.94,18.38-4.34,27.51-6.73,8.22-2.15,16.45-4.22,25.07-3.76.22.01.54.12.68-.34-2.76-.91-5.64-1.14-8.47-1.07-4.31.11-8.57.77-12.77,1.84-5.24,1.34-10.45,2.76-15.55,4.58-5.86,2.09-11.82,3.86-17.86,5.68Z"></path>
    </>)
  }

  const viewBox = type === 'both' 
    ? '0 0 676.22 957.3' 
    : type === 'bottom'
      ? '144.72 939.2 388.17 18.09'
      : '0 0 676.22 957.3'

  return (
    <svg onClick={onClick} width="300" className={className} style={style} viewBox={viewBox}>
      <g>
        {type === 'top' && <TopFrame />}
        {type === 'bottom' && <BottomFrame />}
        {type === 'both' && <>
          <TopFrame />
          <BottomFrame /> 
        </>}
      </g>
    </svg>
  )
}

